<!DOCTYPE html>
<html>
<head>
    <title>Doctor Dashboard</title>
</head>
<body>
<h1>Doctor Dashboard</h1>

<h2>Assigned Patients</h2>
<ul>
    {% for patient in request.user.doctor_profile.patient_set.all %}
        <li>{{ patient.name }} - Age: {{ patient.age }}, Contact: {{ patient.contact_info }}</li>
    {% empty %}
        <li>No assigned patients.</li>
    {% endfor %}
</ul>

<h2>Upcoming Appointments</h2>
<ul>
    {% for appointment in request.user.doctor_profile.appointment_set.all|dictsort:"date" %}
        <li>
            {{ appointment.patient.name }} - {{ appointment.date }} at {{ appointment.time }}
            ({{ appointment.purpose }})
        </li>
    {% empty %}
        <li>No upcoming appointments.</li>
    {% endfor %}
</ul>

<br>
<a href="{% url 'logout' %}">Logout</a>
</body>
</html>
